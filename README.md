# RAG Chatbot

An AI-powered chatbot using Retrieval-Augmented Generation (RAG) architecture.

## ğŸš€ Features

ğŸ“ **Domain Expert Mode**

- Ask questions directly about the content in your document
- Get contextual answers based on your imported PDF materials
- Conversational interface with chat history

ğŸ“ **Exam Prep Mode**

- Request quiz questions on specific topics or sections
- Receive immediate feedback on your answers
- Adaptive questioning to avoid repetition

## ğŸ› ï¸ Technology Stack

- **LLM**: Together AI
- **Vector Database**: FAISS
- **Embeddings**: HuggingFace Sentence Transformers
- **Framework**: LangChain
- **PDF Processing**: PyMuPDF

## ğŸ“‹ Prerequisites

- Python 3.8 or higher
- Together AI API key ([Get one here](https://together.ai/))
- PDF document to use for RAG

## ğŸ”§ Installation

### 1. Clone the Repository

```bash
git clone https://github.com/eliaspardo/rag-chatbot.git
cd rag-chatbot
```

### 2. Create Virtual Environment

```bash
python -m venv .venv
source .venv/bin/activate  # On Windows: .venv\Scripts\activate
```

### 3. Install Dependencies

```bash
pip install -r requirements.txt
```

### 4. Set up Environment Variables

```bash
cp .env.example .env
```

Edit the `.env` file and add your Together AI API key:

```env
TOGETHER_API_KEY=your_together_ai_api_key_here
```

### 5. Add Your PDF Document

Place your PDF documents in the `data/` directory:

```
data/your_document.pdf
```

### 6. Run the Application

```bash
python src/main.py
```

## ğŸ¯ Usage

### First Run

On the first run, the application will:

1. Process your PDF document
2. Split text into chunks
3. Create embeddings using HuggingFace Sentence Transformers
4. Store vectors in FAISS database

Subsequent runs will load the existing vector database.

### Operational Modes

#### Domain Expert Mode (Option 1)

```
â“ Your question: What are the key principles of risk-based testing?
ğŸ’¡ Answer: Based on the context, risk-based testing involves...
```

#### Exam Prep Mode (Option 2)

```
ğŸ§  Section / topic: Risk Management
â“ Question: What are the main categories of product risks in software testing?
ğŸ“ Your answer: Functional failures and quality issues
ğŸ’¡ Answer: Good start! The main categories include functional failures...
```

## ğŸ—ï¸ Project Structure

```
rag-chatbot/
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.py            # Main application entry point
â”‚   â”œâ”€â”€ domain_expert.py   # Domain expert logic
â”‚   â”œâ”€â”€ exam_prep.py       # Exam prep logic
â”‚   â””â”€â”€ prmpts.py          # System and sentence condense prompts
â”œâ”€â”€ data/
â”‚   â””â”€â”€ your_document.pdf  # Place any file you want to use for context here
â””â”€â”€ faiss_db/              # Vector store - autogenerated upon first run. Delete if you switch documents.
```

## âš™ï¸ Configuration

The application can be configured through environment variables in the `.env` file:

| Variable           | Description                   | Default                                       |
| ------------------ | ----------------------------- | --------------------------------------------- |
| `TOGETHER_API_KEY` | Together AI API key           | Required                                      |
| `PDF_PATH`         | Path to PDF                   | Required                                      |
| `MODEL_NAME`       | LLM model to use              | mistralai/Mistral-7B-Instruct-v0.1            |
| `EMBEDDING_MODEL`  | Embedding model               | sentence-transformers/paraphrase-MiniLM-L3-v2 |
| `DB_DIR`           | Vector database directory     | faiss_db                                      |
| `CHUNK_SIZE`       | Text chunk size               | 500                                           |
| `CHUNK_OVERLAP`    | Chunk overlap                 | 50                                            |
| `RETRIEVAL_K`      | Number of retrieved documents | 4                                             |

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ™ Acknowledgments

- [LangChain](https://langchain.com/) for the RAG framework
- [Together AI](https://together.ai/) for the LLM API
- [Sentence Transformers](https://www.sbert.net/) for embeddings
- [FAISS](https://github.com/facebookresearch/faiss) for vector search

## ğŸ”® Future Enhancements

- [ ] Conversation history and context
- [ ] Customize system prompt
- [ ] Support for multiple documents
- [ ] Multi-language support
- [ ] Batch processing for multiple documents
